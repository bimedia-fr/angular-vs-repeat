!function(e,t){"use strict";var n=-1!=navigator.appVersion.indexOf("Mac"),s="undefined"!=typeof e.onwheel?"wheel":"undefined"!=typeof e.onmousewheel?"mousewheel":"DOMMouseScroll",o=document.documentElement,i=o.matches?"matches":o.matchesSelector?"matchesSelector":o.webkitMatches?"webkitMatches":o.webkitMatchesSelector?"webkitMatchesSelector":o.msMatches?"msMatches":o.msMatchesSelector?"msMatchesSelector":o.mozMatches?"mozMatches":o.mozMatchesSelector?"mozMatchesSelector":null,r=t.element.prototype.closest||function(e){for(var n=this[0].parentNode;n!==document.documentElement&&null!=n&&!n[i](e);)n=n.parentNode;return n&&n[i](e)?t.element(n):t.element()};t.module("vs-repeat",[]).directive("vsRepeat",["$compile",function(o){return{restrict:"A",scope:!0,require:"?^vsRepeat",controller:["$scope",function(e){this.$scrollParent=e.$scrollParent,this.$fillElement=e.$fillElement}],compile:function(i){var l=i.children().eq(0),a=l.attr("ng-repeat"),f=l[0].outerHTML,c=/^\s*(\S+)\s+in\s+([\S\s]+?)(track\s+by\s+\S+)?$/.exec(a),d=c[1],u=c[2],m=c[3],p="$vs_collection",h={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsExcess:"excess"};return i.empty(),{pre:function(i,l,a,c){function v(){if(!k||k.length<1)return i[p]=[],I=0,z(0),void(i.sizesCumulative=[0]);if(I=k.length,A){i.sizes=k.map(function(e){return e[a.vsSizeProperty]});var e=0;i.sizesCumulative=i.sizes.map(function(t){var n=e;return e+=t,n}),i.sizesCumulative.push(e)}$(),y()}function $(){C&&i.$$postDigest(function(){if(l[0].offsetHeight||l[0].offsetWidth)for(var e=l.children(),t=0;t<e.length;){if(null!=e[t].attributes["ng-repeat"]){e[t][q]&&(i.elementSize=e[t][q],y(),C=!1,i.$root&&!i.$root.$$phase&&i.$apply());break}t++}else var n=i.$watch(function(){(l[0].offsetHeight||l[0].offsetWidth)&&(n(),$())})})}function x(e){var t=e.currentTarget;(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)&&M.css("display","block")}function g(){"undefined"!=typeof a.vsAutoresize&&(C=!0,$(),i.$root&&!i.$root.$$phase&&i.$apply()),w()&&i.$apply()}function y(){X=void 0,Y=void 0,w(),z(A?i.sizesCumulative[I]:i.elementSize*I),i.$emit("vsRepeatReinitialized")}function z(e){if(B){if(E.css({width:i.offsetBefore+e+i.offsetAfter+"px",height:"100%"}),c&&c.$fillElement){var t=c.$fillElement[0].parentNode.querySelector("[ng-repeat]");t&&c.$fillElement.css({width:t.scrollWidth+"px"})}}else E.css({height:i.offsetBefore+e+i.offsetAfter+"px",width:"100%"}),c&&c.$fillElement&&(t=c.$fillElement[0].parentNode.querySelector("[ng-repeat]"),t&&c.$fillElement.css({height:t.scrollHeight+"px"}))}function S(){var e=H[0][W];e!==N&&(y(),i.$root&&!i.$root.$$phase&&i.$apply()),N=e}function w(){if(A){for(i.startIndex=0;i.sizesCumulative[i.startIndex]<H[0][T]-i.offsetBefore;)i.startIndex++;for(i.startIndex>0&&i.startIndex--,i.endIndex=i.startIndex;i.sizesCumulative[i.endIndex]<H[0][T]-i.offsetBefore+H[0][W];)i.endIndex++}else i.startIndex=Math.max(Math.floor((H[0][T]-i.offsetBefore)/i.elementSize+i.excess/2)-i.excess,0),i.endIndex=Math.min(i.startIndex+Math.ceil(H[0][W]/i.elementSize)+i.excess,I);var e=i.startIndex!==X||i.endIndex!==Y;return i.startIndex%2===1&&i.startIndex--,e&&(i[p]=k.slice(i.startIndex,i.endIndex)),X=i.startIndex,Y=i.endIndex,e}var I,M,E,b=t.element(f),k=[],B="undefined"!=typeof a.vsHorizontal,C=!a.vsRepeat,A=!!a.vsSizeProperty,H=a.vsScrollParent?r.call(l,a.vsScrollParent):l,R=B?"translateX":"translateY",P=B?"left":"top",W=B?"clientWidth":"clientHeight",q=B?"offsetWidth":"offsetHeight",T=B?"scrollLeft":"scrollTop";if(0===H.length)throw"Specified scroll parent selector did not match any element";i.$scrollParent=H,A&&(i.sizesCumulative=[]),i.elementSize=H[0][W]||50,i.offsetBefore=0,i.offsetAfter=0,i.excess=2,Object.keys(h).forEach(function(e){a[e]&&a.$observe(e,function(t){i[h[e]]=+t,y()})}),i.$watchCollection(u,function(e){k=e||[],v()}),b.attr("ng-repeat",d+" in "+p+(m?" "+m:"")).addClass("vs-repeat-repeated-element");var D=A?"(sizesCumulative[$index + startIndex] + offsetBefore)":"(($index + startIndex) * elementSize + offsetBefore)";"undefined"!=typeof document.documentElement.style.transform?b.attr("ng-style",'{ "transform": "'+R+'(" + '+D+' + "px)"}'):"undefined"!=typeof document.documentElement.style.webkitTransform?b.attr("ng-style",'{ "-webkit-transform": "'+R+'(" + '+D+' + "px)"}'):b.attr("ng-style","{"+P+": "+D+' + "px"}'),o(b)(i),l.append(b),E=t.element('<div class="vs-repeat-fill-element"></div>').css({position:"relative","min-height":"100%","min-width":"100%"}),l.append(E),o(E)(i),i.$fillElement=E;var O={};n&&(M=t.element('<div class="vs-repeat-wheel-helper"></div>').on(s,function(e){e.preventDefault(),e.stopPropagation(),e.originalEvent&&(e=e.originalEvent),H[0].scrollLeft+=e.deltaX||-e.wheelDeltaX,H[0].scrollTop+=e.deltaY||-e.wheelDeltaY}).on("mousemove",function(e){(O.x!==e.clientX||O.y!==e.clientY)&&t.element(this).css("display","none"),O={x:e.clientX,y:e.clientY}}).css("display","none"),E.append(M)),i.startIndex=0,i.endIndex=0,H.on("scroll",function(){w()&&i.$apply()}),n&&H.on(s,x),t.element(e).on("resize",g),i.$on("$destroy",function(){t.element(e).off("resize",g)}),i.$on("vsRepeatTrigger",v),i.$on("vsRepeatResize",function(){C=!0,$()});var X,Y,N;i.$watch(function(){"function"==typeof e.requestAnimationFrame?e.requestAnimationFrame(S):S()})}}}}}])}(window,window.angular);